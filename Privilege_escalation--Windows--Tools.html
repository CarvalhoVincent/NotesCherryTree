<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>Tools</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>Tools</h1><br/>             Several scripts exist to conduct system enumeration in ways similar to the ones seen in the previous task. These tools can shorten the enumeration process time and uncover different potential privilege escalation vectors. However, please remember that automated tools can sometimes miss privilege escalation.<br />Below are a few tools commonly used to identify privilege escalation  vectors. Feel free to run them against any of the machines in this room  and see if the results match the discussed attack vectors.<br /><br /><br /><br /><h2>WinPEAS</h2><br />WinPEAS is a script developed to enumerate the target system to  uncover privilege escalation paths. You can find more information about  winPEAS and download either the precompiled executable or a .bat script.  WinPEAS will run commands similar to the ones listed in the previous  task and print their output. The output from winPEAS can be lengthy and  sometimes difficult to read. This is why it would be good practice to  always redirect the output to a file, as shown below:<br />                        Command Prompt        <br />                   <code>C:\&gt; winpeas.exe &gt; outputfile.txt</code><br />            <br /><br />WinPEAS can be downloaded <a href="https://github.com/carlospolop/PEASS-ng/tree/master/winPEAS">here</a>.<br /><br /><br /><br /><br /><h2>PrivescCheck</h2><br />PrivescCheck is a PowerShell  script that searches common privilege escalation on the target system.  It provides an alternative to WinPEAS without requiring the execution of  a binary file.<br />PrivescCheck can be downloaded <a href="https://github.com/itm4n/PrivescCheck">here</a>.<br /><strong>Reminder</strong>:  To run PrivescCheck on the target system, you may need to bypass the  execution policy restrictions. To achieve this, you can use the <code>Set-ExecutionPolicy</code> cmdlet as shown below.<br />                        Powershell        <br />                   <code>PS C:\&gt; Set-ExecutionPolicy Bypass -Scope process -Force<br />PS C:\&gt; . .\PrivescCheck.ps1<br />PS C:\&gt; Invoke-PrivescCheck</code><br />            <br /><br /><br /><br /><br /><h2>WES-NG: Windows Exploit Suggester - Next Generation</h2><br />Some exploit suggesting scripts (e.g. winPEAS) will require you to  upload them to the target system and run them there. This may cause  antivirus software to detect and delete them. To avoid making  unnecessary noise that can attract attention, you may prefer to use  WES-NG, which will run on your attacking machine (e.g. Kali or TryHackMe  AttackBox).<br />WES-NG is a Python script that can be found and downloaded <a href="https://github.com/bitsadmin/wesng">here</a>.<br />Once installed, and before using it, type the  <code>wes.py --update</code>  command to update the database. The script will refer to the database  it creates to check for missing patches that can result in a  vulnerability you can use to elevate your privileges on the target  system.<br />To use the script, you will need to run the <code>systeminfo</code>┬ácommand  on the target system. Do not forget to direct the output to a .txt file  you will need to move to your attacking machine.<br />Once this is done, wes.py can be run as follows;<br />                         Kali Linux         <br />        <code>user@kali$ wes.py systeminfo.txt</code><br />            <br /><br /><br /><br /><br /><h2>Metasploit</h2><br />If you already have a Meterpreter shell on the target system, you can use the <code>multi/recon/local_exploit_suggester</code> module to list vulnerabilities that may affect the target system and allow you to elevate your privileges on the target system.<br /><br />        <br /></div></body></html>