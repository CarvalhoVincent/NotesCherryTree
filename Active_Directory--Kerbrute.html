<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>Kerbrute</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>Kerbrute</h1><br/>Kerbrute is a popular  enumeration tool used to brute-force and enumerate valid  active-directory users by abusing the Kerberos pre-authentication.<br />For more information on enumeration using Kerbrute check out the Attacktive Directory room by Sq00ky - <a href="https://tryhackme.com/room/attacktivedirectory">https://tryhackme.com/room/attacktivedirectory</a><br /><h3>You need to add the DNS domain name along with the machine IP to /etc/hosts inside of your attacker machine or these attacks will not work for you - </h3><code><h3>10.10.215.150  CONTROLLER.local</h3></code>    <br /><h2>Abusing Pre-Authentication Overview -</h2><br />By  brute-forcing Kerberos pre-authentication, you do not trigger the  account failed to log on event which can throw up red flags to blue  teams. When brute-forcing through Kerberos you can brute-force by only  sending a single UDP frame to the KDC allowing you to enumerate the users on the domain from a wordlist.<br /><br /><br /><a href="https://i.imgur.com/2IomUnH.jpg"><img src="images/67-1.png" alt="images/67-1.png" /></a><br /><br /><h2>Kerbrute Installation - </h2><br />1.) Download a precompiled binary for your OS - <a href="https://github.com/ropnop/kerbrute/releases">https://github.com/ropnop/kerbrute/releases</a><br />2.) Rename kerbrute_linux_amd64<small> to kerbrute</small><br /><small>3.) </small><code>chmod +x kerbrute</code> - make kerbrute executable<br /><h2>Enumerating Users w/ Kerbrute -</h2><br />Enumerating  users allows you to know which user accounts are on the target domain  and which accounts could potentially be used to access the network.<br /><small>1.) cd into the directory that you put Kerbrute</small><br />2.) Download the wordlist to enumerate with <a href="https://github.com/Cryilllic/Active-Directory-Wordlists/blob/master/User.txt">here</a><br />3.) <code>./kerbrute userenum --dc CONTROLLER.local -d CONTROLLER.local User.txt</code> - This will brute force user accounts from a domain controller using a supplied wordlist<br /><a href="https://i.imgur.com/fSDrhyb.png"><img src="images/67-2.png" alt="images/67-2.png" /></a><br />Now enumerate on your own and find the rest of the users and more importantly service accounts.<br /></div></body></html>