<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>Docker run</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>Docker run</h1><br/>The Docker run command creates running containers from images. This  is where commands from the Dockerfile (as well as our own input at  runtime) are run. Because of this, it must be some of the first syntaxes  you learn.<br />The command works in the following way: <code>docker run [OPTIONS] IMAGE_NAME [COMMAND] [ARGUMENTS...] </code> the options enclosed in brackets are not required for a container to run.<br />Docker  containers can be run with various options - depending on how we will  use the container. This task will explain some of the most common  options that you may want to use.<br /><h2>First, Simply Running a Container</h2><br /><br /><small>Let&#39;s recall the syntax required to run a Docker container: </small><code>docker run [OPTIONS] IMAGE_NAME [COMMAND] [ARGUMENTS...]</code><small> . </small>In this example, I am going to configure the<small> container to run:</small><br /><br />• An image named &quot;helloworld&quot;<br />• &quot;Interactively&quot; by providing the <code>-it</code> switch in the [OPTIONS] command. This will allow us to interact with the container directly.<br />• I am going to spawn a shell within the container by providing <code>/bin/bash</code> as the [COMMAND] part. This argument is where you will place what commands you want to run within the container (such as a file, application or shell!)<br /><br />So, to achieve the above, my command will look like the following: <code>docker run -it helloworld /bin/bash</code><br />                        A terminal showing a container being launched in &#39;interactive&#39; mode        <br />                   <code>cmnatic@thm-intro-to-docker:~$ docker run -it helloworld /bin/bash<br />root@30eff5ed7492:/#</code><br />            <br /><br />We can verify that we have successfully launched a shell  because our prompt will change to another user account and hostname. The  hostname of a container is the container ID (which can be found by  using <code>docker ps</code>). For example, in the terminal above, our username and hostname are <code>root@30eff5ed7492</code><br /><h2>Running Containers...Continued</h2><br /><br />As  previously mentioned, Docker containers can be run with various  options. The purpose of the container and the instructions set in a  Dockerfile (we&#39;ll come onto this in a later task) determines what  options we need to run the container with. To start, I&#39;ve put some of  the most common options you may need to run your Docker container into  the table below.<br /><table class="table"><tr><th>[OPTION]</th><th>Explanation</th><th>Relevant Dockerfile Instruction</th><th>Example</th></tr><tr><td>-d</td><td>This argument tells the container to start in &quot;detached&quot; mode. This means that the container will run in the background.</td><td>N/A</td><td>docker run -d helloworld</td></tr><tr><td>-it</td><td>This argument has two parts. The &quot;i&quot; means run interactively, and &quot;t&quot; tells Docker to run a shell within the container. We would use this option if we wish to interact with the container directly once it runs.</td><td>N/A</td><td>docker run -it helloworld</td></tr><tr><td>-v</td><td>This argument is short for &quot;Volume&quot; and tells Docker to mount a directory or file from the host operating system to a location within the container. The location these files get stored is defined in the Dockerfile</td><td>VOLUME</td><td>docker run -v /host/os/directory:/container/directory helloworld</td></tr><tr><td>-p</td><td>This argument tells Docker to bind a port on the host operating system to a port that is being exposed in the container. You would use this instruction if you are running an application or service (such as a web server) in the container and wish to access the application/service by navigating to the IP address.</td><td>EXPOSE</td><td>docker run -p 80:80 webserver</td></tr><tr><td>--rm</td><td>This argument tells Docker to remove the container once the container finishes running whatever it has been instructed to do.</td><td>N/A</td><td>docker run --rm helloworld</td></tr><tr><td>--name</td><td>This argument lets us give a friendly, memorable name to the container. When a container is run without this option, the name is two random words. We can use this open to name a container after the application the container is running.</td><td>N/A</td><td>docker run --name helloworld</td></tr></table><br />These  are just some arguments we can provide when running a container. Again,  most arguments we need to run will be determined by how the container  is built. However, arguments such as <code>--rm</code> and <code>--name</code> will instruct Docker on how to run the container. Other arguments include (but are not limited to!):<br />◇ Telling Docker what network adapter the container should use<br />◇ What capabilities the container should have access to. This is covered in the &quot;<a href="https://tryhackme.com/room/dockerrodeo">Docker Rodeo</a>&quot; room on TryHackMe.<br />◇ Storing a value into an environment variable<br /><br />If you wish to explore more of these arguments, I highly suggest reading the <a href="https://docs.docker.com/engine/reference/run/">Docker run documentation</a>.<br /><h2>Listing Running Containers</h2><br /><br />To  list running containers, we can use the docker ps command. This command  will list containers that are currently running - like so:<br />                        A terminal showing a list of running containers and their information        <br />                   <code>cmnatic@thm:~/intro-to-docker$ docker ps<br />CONTAINER ID   IMAGE                           COMMAND        CREATED        STATUS      PORTS     NAMES                                                                                      <br />                             <br />a913a8f6e30f   cmnatic/helloworld:latest   &quot;sleep&quot;   1 months ago   Up 3 days   0.0.0.0:8000-&gt;8000/tcp   helloworld<br />cmnatic@thm:~/intro-to-docker$</code><br />            <br /><br /><br />This command will also show information about the container, including:<br />◇ The container&#39;s ID<br />◇ What command is the container running<br />◇ When was the container created<br />◇ How long has the container been running<br />◇ What ports are mapped<br />◇ The name of the container<br /><br /><strong>Tip:</strong> To list all containers (even stopped), you can use<br /><br /> <div class="codebox"><div class="codebox">docker&nbsp;ps&nbsp;-a</div></div><br /> <br /> <br />                        A terminal showing a list of ALL containers and their information        <br />                   <code>cmnatic@thm:~/intro-to-docker$ docker ps -a<br />CONTAINER ID   IMAGE                             COMMAND                  CREATED             STATUS     PORTS    NAMES                                                                                  <br />00ba1eed0826   gobuster:cmnatic                  &quot;./gobuster dir -url…&quot;   an hour ago   Exited an hour ago practical_khayyam</code><br />        <br /><br /></div></body></html>